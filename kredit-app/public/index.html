<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <title>Kredit-Zielwertberechnung</title>
    <!-- Einbindung der Schriftart "Roboto" -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto&display=swap">
    <!-- Einbindung von Font Awesome für Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Einbindung der CSS-Datei -->
    <link rel="stylesheet" href="style.css">
    <!-- vis-timeline CSS -->
    <link rel="stylesheet" href="https://unpkg.com/vis-timeline@7.7.3/styles/vis-timeline-graph2d.min.css">
</head>

<body>
    <header>
        <div class="header-content">
            <!-- Piktogramm oben links -->
            <i class="fas fa-calculator header-icon"></i>
            <h1>Kredit-Zielwertberechnung</h1>
        </div>
    </header>
    <main>
        <section class="zeitreihe-section">
            <h2><i class="fas fa-chart-line"></i> Zeitreihe der Tilgung</h2>
            <div id="timeline"></div>
        </section>

        <div class="main-grid">
            <!-- Grid 1: Zielabzahldatum bei gegebener monatlicher Rate -->
            <div class="grid">
                <h2><i class="fas fa-calendar-alt"></i> Abzahldatum berechnen</h2>
                <div class="form-group">
                    <label for="kreditbetrag1">Kreditbetrag (€):</label>
                    <input type="text" id="kreditbetrag1" value="457.000,00 €" inputmode="decimal" placeholder="z.B. 125.000,00 €">
                </div>
                <div class="form-group">
                    <label for="restschuld1">Aktuelle Restschuld (€):</label>
                    <input type="text" id="restschuld1" value="" readonly
                        title="Wird automatisch berechnet aus Kreditbetrag, Rate und Tilgungsdauer">
                </div>
                <div class="form-group">
                    <label for="monatlicheRate1">Monatliche Rate (€):</label>
                    <input type="text" id="monatlicheRate1" value="1.200,00 €" inputmode="decimal" placeholder="z.B. 1.500,00 €">
                </div>
                <button class="btn" onclick="berechneAbzahldatum()">Berechnen</button>
                <p id="ergebnis1" class="ergebnis"></p>
                <div id="fortschritt1" class="progress-container" style="display:none;">
                    <label class="progress-label">Tilgungsfortschritt:</label>
                    <div class="progress-bar">
                        <div id="fortschrittFill1" class="progress-fill"></div>
                    </div>
                    <span id="fortschrittText1" class="progress-text"></span>
                </div>
            </div>

            <!-- Grid 2: Monatliche Rate bei gegebenem Zieldatum -->
            <div class="grid">
                <h2><i class="fas fa-euro-sign"></i> Monatliche Rate berechnen</h2>
                <div class="form-group">
                    <label for="kreditbetrag2">Kreditbetrag (€):</label>
                    <input type="text" id="kreditbetrag2" value="457.000,00 €" inputmode="decimal" placeholder="z.B. 125.000,00 €">
                </div>
                <div class="form-group">
                    <label for="restschuld2">Aktuelle Restschuld (€):</label>
                    <input type="text" id="restschuld2" value="" readonly
                        title="Wird automatisch berechnet aus Kreditbetrag, Rate und Tilgungsdauer">
                </div>
                <div class="form-group">
                    <label for="zieldatum">Zieldatum (JJJJ-MM):</label>
                    <input type="month" id="zieldatum" required
                        title="Bitte wählen Sie das Zieldatum im Format JJJJ-MM">
                    <small id="zieldatumError" class="error-message"></small>
                </div>
                <button class="btn" onclick="berechneMonatlicheRate()">Berechnen</button>
                <p id="ergebnis2" class="ergebnis"></p>
                <div id="fortschritt2" class="progress-container" style="display:none;">
                    <label class="progress-label">Tilgungsfortschritt:</label>
                    <div class="progress-bar">
                        <div id="fortschrittFill2" class="progress-fill"></div>
                    </div>
                    <span id="fortschrittText2" class="progress-text"></span>
                </div>
            </div>

            <section class="sondertilgungen-section">
                <h2><i class="fas fa-plus-circle"></i> Sondertilgungen</h2>
                <table id="sondertilgungenTabelle">
                    <thead>
                        <tr><th>Datum</th><th>Betrag</th><th></th></tr>
                    </thead>
                    <tbody id="sondertilgungenBody"></tbody>
                </table>
                <button class="btn btn-add" onclick="addSondertilgung()">+ Sondertilgung hinzufuegen</button>
                <p id="sondertilgungenSumme" class="progress-text"></p>
            </section>
        </div>
    </main>
    <footer>
        <p>&copy; 2025 Kredit-Zielwertberechnung</p>
    </footer>
    <!-- vis-timeline JS -->
    <script src="https://unpkg.com/vis-timeline@7.7.3/standalone/umd/vis-timeline-graph2d.min.js"></script>
    <!-- Config und App-Logik -->
    <script src="config.js"></script>
    <script src="script.js"></script>
</body>

</html>